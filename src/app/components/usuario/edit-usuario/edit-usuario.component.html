
<ng-container *ngIf="modal">
  <div class="modal-fade border  text-dark shadow-sm w-100 max-w-3xl" *ngIf="datauser">
    <div class="modal-body">
      <div class="row g-0  text-sm-center-costum">
        <div class="col-sm-6 col-md-8">
          <h3 class="modal-title">
            Editar Perfil
          </h3>
          <p class="modal-text">
            Puedes cambiar tu información personal.
          </p>
        </div>
        <div class="col col-md-4 order-last">
          <div class="form-check form-switch">
            <label for="basic-url" class="form-label" style="margin-right: 50px;">Estado:</label>
            <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckChecked" [(ngModel)]="datauser.estado">
            <label class="form-check-label" for="flexSwitchCheckChecked">{{datauser.estado}}</label>
          </div>
        </div>
      </div>
    </div>
    <div class="modal-body">
      <div class="container">
        <div class="row gy-5 ">
          <div class="col-sm-5 col-md-6">
            <div class="d-flex align-items-center">
              <div class="w-50 h-50 rounded-circle overflow-hidden">
                <img [src]="nombreArchivo ? nombreArchivo : './assets/icono.png'"
                     width="150"
                     height="150"
                     alt="Your profile picture"
                     class="rounded-circle img-fluid"
                     style="aspect-ratio: 48 / 48; object-fit: cover;">
              </div>
              <div class="ms-3">
                <label class="form-label" for="profile-picture">
                  Puedes actualizar tu foto de Perfil.
                  <div class="file-upload"
                       (mouseenter)="activarHover()"
                       (mouseleave)="desactivarHover()">
                    <label for="profile-picture"
                           class="file-upload-label"
                           [class.hover]="hover">
                      {{ archivoSeleccionado ? archivoSeleccionado.name : 'Arrastra o pulsa aquí para subir un archivo' }}
                    </label>
                    <input class="form-control file-upload-input"
                           id="profile-picture"
                           type="file"
                           (change)="onFilesSelected($event)">
                  </div>
                </label>
                <small class="form-text">JPG, PNG, GIF. Peso máximo 4MB. <a href="#">Learn more</a></small>
              </div>
            </div>                  
          </div> 
           
          <div class="col-sm-5 offset-sm-2 col-md-6 offset-md-0 align-self-center">
            <label class="form-label " for="name">
              Nombres
            </label>
            <input class="form-control" id="name" type="text" [(ngModel)]="datauser.nombres" placeholder="Ingresa tus nombres" [disabled]="editing">
          </div>
        </div>
        <div class="row">
          <div class="col-md-4 col-sm-auto me-auto">
            <label class="form-label" for="email">
              Correo
            </label>
            <input class="form-control" id="email" type="email" [(ngModel)]="datauser.correo"  placeholder="Ingresa tu correo" type="email">
          </div>

          <div class="col-md-4 col-sm-auto me-auto">
            <label class="form-label" for="password">
              Contraseña
            </label>                  
            <input class="form-control" type="password" id="password" [(ngModel)]="datauser.password"  placeholder="Ingresa una nueva contraseña">
          </div>

          <div class="col-md-4 col-sm-auto me-auto">
            <label class="form-label" for="phone">
              Teléfono
            </label>
            <input class="form-control" id="phone" type="tel" [(ngModel)]="datauser.telefono"  placeholder="Ingresa tu teléfono" type="tel">                  
          </div>
          
        </div>

        <div class="row">
          <div class="col-sm-auto col-md-4">
            <label class="form-label" for="dni">
              Cédula
            </label>
            <input class="form-control" id="cedula" type="text" [(ngModel)]="datauser.cedula" placeholder="Ingresa tu Cédula" [disabled]="editing">
          </div>
        </div>             
      </div>
      <div class="d-flex justify-content-end mt-3">
        <button class="btn btn-secondary me-2">
          Cancelar
        </button>
        <button class="btn btn-primary" (click)="updateUser()">
          Guardar
        </button>
      </div>
    </div>
  </div>


  <div class="modal-fade" *ngIf="!datauser">
    <div class="card-header">
      <div class="row">
        <div class="col-lg-auto">
          <h2>Editar Perfil</h2>
        </div>
      </div>
    </div>
    <div class="card-body">
      <div class="card-body" aria-hidden="true">
        <h5 class="card-title placeholder-glow">
          <span class="placeholder col-6"></span>
        </h5>
        <p class="card-text placeholder-glow">
          <span class="placeholder col-7"></span>
          <span class="placeholder col-4"></span>
          <span class="placeholder col-4"></span>
          <span class="placeholder col-6"></span>
          <span class="placeholder col-8"></span>
        </p>
        <p class="card-text placeholder-glow">
          <span class="placeholder col-7"></span>
          <span class="placeholder col-4"></span>
          <span class="placeholder col-4"></span>
          <span class="placeholder col-6"></span>
          <span class="placeholder col-8"></span>
        </p>
      </div>
  </div>
  </div> 
</ng-container>

<ng-container *ngIf="!modal">
  <div class="wrapper">
    <div class="sidebar" data-color="danger" data-background-color="white" data-image="./assets/img/sidebar-1.jpg">
      <app-sidebar></app-sidebar>
      <div class="sidebar-background" style="background-image: url(./assets/img/sidebar-4.jpg)"></div>
    </div>
    <div class="main-panel">
      <app-navbar></app-navbar>   
      <div class="main-content">
        <div class="card border  text-dark shadow-sm w-100 max-w-3xl" *ngIf="datauser">
          <div class="card-body">
            <div class="row g-0  text-sm-center-costum">
              <div class="col-sm-6 col-md-8">
                <h3 class="card-title">
                  Editar Perfil
                </h3>
                <p class="card-text">
                  Puedes cambiar tu información personal.
                </p>
              </div>
              <div class="col col-md-4 order-last">
                <div class="form-check form-switch">
                  <label for="basic-url" class="form-label" style="margin-right: 50px;">Estado:</label>
                  <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckChecked" [(ngModel)]="datauser.estado">
                  <label class="form-check-label" for="flexSwitchCheckChecked">{{datauser.estado}}</label>
                </div>
              </div>
            </div>
          </div>
          <div class="card-body">
            <div class="container">
              <div class="row gy-5 ">
                <div class="col-sm-5 col-md-6">
                  <div class="d-flex align-items-center">
                    <div class="w-50 h-50 rounded-circle overflow-hidden">
                      <img [src]="nombreArchivo ? nombreArchivo : './assets/icono.png'"
                           width="150"
                           height="150"
                           alt="Your profile picture"
                           class="rounded-circle img-fluid"
                           style="aspect-ratio: 48 / 48; object-fit: cover;">
                    </div>
                    <div class="ms-3">
                      <label class="form-label" for="profile-picture">
                        Puedes actualizar tu foto de Perfil.
                        <div class="file-upload"
                             (mouseenter)="activarHover()"
                             (mouseleave)="desactivarHover()">
                          <label for="profile-picture"
                                 class="file-upload-label"
                                 [class.hover]="hover">
                            {{ archivoSeleccionado ? archivoSeleccionado.name : 'Arrastra o pulsa aquí para subir un archivo' }}
                          </label>
                          <input class="form-control file-upload-input"
                                 id="profile-picture"
                                 type="file"
                                 (change)="onFilesSelected($event)">
                        </div>
                      </label>
                      <small class="form-text">JPG, PNG, GIF. Peso máximo 4MB. <a href="#">Learn more</a></small>
                    </div>
                  </div>                  
                </div> 
                 
                <div class="col-sm-5 offset-sm-2 col-md-6 offset-md-0 align-self-center">
                  <label class="form-label " for="name">
                    Nombres
                  </label>
                  <input class="form-control" id="name" type="text" [(ngModel)]="datauser.nombres" placeholder="Ingresa tus nombres" disabled="true">
                </div>
              </div>
              <div class="row">
                <div class="col-md-4 col-sm-auto me-auto">
                  <label class="form-label" for="email">
                    Correo
                  </label>
                  <input class="form-control" id="email" type="email" [(ngModel)]="datauser.correo"  placeholder="Ingresa tu correo" type="email">
                </div>

                <div class="col-md-4 col-sm-auto me-auto">
                  <label class="form-label" for="password">
                    Contraseña
                  </label>                  
                  <input class="form-control" type="password" id="password" [(ngModel)]="datauser.password"  placeholder="Ingresa una nueva contraseña">
                </div>

                <div class="col-md-4 col-sm-auto me-auto">
                  <label class="form-label" for="phone">
                    Teléfono
                  </label>
                  <input class="form-control" id="phone" type="tel" [(ngModel)]="datauser.telefono"  placeholder="Ingresa tu teléfono" type="tel">                  
                </div>
                
              </div>

              <div class="row">
                <div class="col-sm-auto col-md-4">
                  <label class="form-label" for="dni">
                    Cédula
                  </label>
                  <input class="form-control" id="cedula" type="text" [(ngModel)]="datauser.cedula" placeholder="Ingresa tu Cédula" disabled="true">
                </div>
              </div>             
            </div>
            <div class="d-flex justify-content-end mt-3">
              <button class="btn btn-secondary me-2">
                Cancelar
              </button>
              <button class="btn btn-primary" (click)="updateUser()">
                Guardar
              </button>
            </div>
          </div>
        </div>


        <div class="card" *ngIf="!datauser">
          <div class="card-header">
            <div class="row">
              <div class="col-lg-auto">
                <h2>Editar Perfil</h2>
              </div>
            </div>
          </div>
          <div class="card-body">
            <div class="card-body" aria-hidden="true">
              <h5 class="card-title placeholder-glow">
                <span class="placeholder col-6"></span>
              </h5>
              <p class="card-text placeholder-glow">
                <span class="placeholder col-7"></span>
                <span class="placeholder col-4"></span>
                <span class="placeholder col-4"></span>
                <span class="placeholder col-6"></span>
                <span class="placeholder col-8"></span>
              </p>
              <p class="card-text placeholder-glow">
                <span class="placeholder col-7"></span>
                <span class="placeholder col-4"></span>
                <span class="placeholder col-4"></span>
                <span class="placeholder col-6"></span>
                <span class="placeholder col-8"></span>
              </p>
            </div>
        </div>
        </div>
      </div> 

      <div>
        <app-footer></app-footer>
      </div>
    </div>
  </div>
</ng-container>
