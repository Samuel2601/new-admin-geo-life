<div class="card">
    <div class="card-header">
        <div class="row">
            <div class="col-auto">
                <h2>Listado de Roles de Usuario</h2>
            </div>
            <div class="col-6">
                <p-button icon="pi pi-user-plus" label="Crear nuevo Rol" (onClick)="newRol()"></p-button>
            </div>
        </div>
    </div>
    <div class="card-body">
        <p-toast></p-toast>
        <div class="table-responsive-sm">
            <p-table [paginatorDropdownAppendTo]="'body'"
                styleClass="p-datatable-striped"
                class="table table-sm align-middle table-striped table-hover"
                [value]="roles"
                dataKey="_id"
                editMode="row"
                [tableStyle]="{ 'min-width': '50rem' }"
                currentPageReportTemplate="Mostrando {first} a {last} de {totalRecords} registros"
            >
                <ng-template pTemplate="header">
                    <tr>
                        <th scope="col">Nombre</th>
                        <th scope="col">Orden</th>
                        <th scope="col"></th>
                    </tr>
                </ng-template>
                <ng-template
                    pTemplate="body"
                    let-rol
                    let-editing="editing"
                    let-ri="rowIndex"
                >
                    <tr [pEditableRow]="rol">
                        <td>
                            <p-cellEditor>
                                <ng-template pTemplate="input">
                                    <input
                                        pInputText
                                        type="text"
                                        [(ngModel)]="rol.nombre"
                                        required
                                        class="form-control"
                                    />
                                </ng-template>
                                <ng-template pTemplate="output">
                                    {{ rol.nombre }}
                                </ng-template>
                            </p-cellEditor>
                        </td>
                        <td>
                            <p-cellEditor>
                                <ng-template pTemplate="input">
                                    <input
                                        pInputText
                                        type="number"
                                        [(ngModel)]="rol.orden"
                                        required
                                        class="form-control"
                                    />
                                </ng-template>
                                <ng-template pTemplate="output">
                                    {{ rol.orden }}
                                </ng-template>
                            </p-cellEditor>
                        </td>
                    </tr>
                </ng-template>
            </p-table>
        </div>
    </div>
</div>
