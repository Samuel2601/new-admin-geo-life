<ng-container *ngIf="model">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title">Actividades de Proyectos</h2>
            <button class="btn btn-primary" (click)="abrirModal()">
                <i class="bi bi-plus-square-dotted"></i> Nuevo
            </button>
            <button
                type="button"
                class="btn-close"
                aria-label="Close"
                (click)="cerrarModal()"
            ></button>
        </div>
        <div class="modal-body">
            <p-toast></p-toast>
            <div class="table-responsive-sm" *ngIf="actividadPro">
                <table
                    class="table table-lg align-middle table-striped table-hover table-fixed"
                >
                    <thead>
                        <tr>
                            <th scope="col">Nombre</th>
                        </tr>
                    </thead>
                    <tbody class="table-group-divider">
                        <tr *ngFor="let actividad of actividadPro">
                            <td>{{ actividad.nombre }}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</ng-container>
<ng-container *ngIf="!model">
    <div class="card">
        <div class="card-header">
            <div class="row">
                <div class="col-auto">
                    <h2>Actividades de Proyectos</h2>
                </div>
                <div class="col-6">
                    <a
                        routerLink="/create-estado-incidente"
                        class="btn btn-primary float-end"
                        >Nuevo Estado</a
                    >
                </div>
            </div>
        </div>
        <div class="card-body">
            <p-toast></p-toast>
            <div class="table-responsive-sm" *ngIf="actividadPro">
                <p-table
                    styleClass="p-datatable-striped"
                    class="table table-sm align-middle table-striped table-hover"
                    [value]="actividadPro"
                    dataKey="_id"
                    editMode="row"
                    [tableStyle]="{ 'min-width': '50rem' }"
                >
                    <ng-template pTemplate="header">
                        <tr>
                            <th scope="col">Nombre</th>
                            <th scope="col">Orden</th>
                        </tr>
                    </ng-template>
                    <ng-template
                        pTemplate="body"
                        let-incidenteDenuncia
                        let-editing="editing"
                        let-ri="rowIndex"
                    >
                        <tr [pEditableRow]="incidenteDenuncia">
                            <td>
                                <p-cellEditor>
                                    <ng-template pTemplate="input">
                                        <input
                                            pInputText
                                            type="text"
                                            [(ngModel)]="
                                                incidenteDenuncia.nombre
                                            "
                                            required
                                            class="form-control"
                                        />
                                    </ng-template>
                                    <ng-template pTemplate="output">
                                        {{ incidenteDenuncia.nombre }}
                                    </ng-template>
                                </p-cellEditor>
                            </td>
                            <td>
                                <p-cellEditor>
                                    <ng-template pTemplate="input">
                                        <input
                                            pInputText
                                            type="text"
                                            [(ngModel)]="
                                                incidenteDenuncia.orden
                                            "
                                            required
                                            class="form-control"
                                        />
                                    </ng-template>
                                    <ng-template pTemplate="output">
                                        {{ incidenteDenuncia.orden }}
                                    </ng-template>
                                </p-cellEditor>
                            </td>
                        </tr>
                    </ng-template>
                </p-table>
            </div>
        </div>
    </div>
</ng-container>
