<div class="card-header">
    <div class="row">
        <div class="col-auto">
            <h2>Listado de Incidentes y Denuncias</h2>
        </div>
        <div class="col-6" *ngIf="check.CreateEstadoIncidenteComponent">
            <p-button class="btn btn-primary" (click)="abrirSegundoModal()">
                <i class="bi bi-plus-square-dotted"></i> Nuevo
            </p-button>
        </div>
    </div>
</div>
<div class="card-body">
    <p-toast></p-toast>
    <div
        class="table-responsive-sm"
        *ngIf="incidentesDenuncias.length > 0 && !load_lista"
    >
        <p-table [paginatorDropdownAppendTo]="'body'"
            styleClass="p-datatable-striped"
            class="table table-sm align-middle table-striped table-hover"
            [value]="incidentesDenuncias"
            dataKey="_id"
            editMode="row"
            [tableStyle]="{ 'min-width': '5rem' }"
            currentPageReportTemplate="Mostrando {first} a {last} de {totalRecords} registros"
        >
            <ng-template pTemplate="header">
                <tr>
                    <th scope="col">Nombre</th>
                    <th scope="col">Orden</th>
                </tr>
            </ng-template>
            <ng-template
                pTemplate="body"
                let-incidenteDenuncia
                let-editing="editing"
                let-ri="rowIndex"
            >
                <tr [pEditableRow]="incidenteDenuncia">
                    <td>
                        <p-cellEditor>
                            <ng-template pTemplate="input">
                                <input
                                    pInputText
                                    type="text"
                                    [(ngModel)]="incidenteDenuncia.nombre"
                                    required
                                    class="form-control"
                                />
                            </ng-template>
                            <ng-template pTemplate="output">
                                {{ incidenteDenuncia.nombre }}
                            </ng-template>
                        </p-cellEditor>
                    </td>
                    <td>
                        <p-cellEditor>
                            <ng-template pTemplate="input">
                                <input
                                    pInputText
                                    type="text"
                                    [(ngModel)]="incidenteDenuncia.orden"
                                    required
                                    class="form-control"
                                />
                            </ng-template>
                            <ng-template pTemplate="output">
                                {{ incidenteDenuncia.orden }}
                            </ng-template>
                        </p-cellEditor>
                    </td>
                </tr>
            </ng-template>
        </p-table>
        <div class="card-body" aria-hidden="true" *ngIf="load_lista">
            <h5 class="card-title placeholder-glow">
                <span class="placeholder col-6"></span>
            </h5>
            <p class="card-text placeholder-glow">
                <span class="placeholder col-7"></span>
                <span class="placeholder col-4"></span>
                <span class="placeholder col-4"></span>
                <span class="placeholder col-6"></span>
                <span class="placeholder col-8"></span>
            </p>
        </div>
    </div>
</div>
